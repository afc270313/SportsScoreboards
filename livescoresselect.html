<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vertical Football Score Ticker</title>
  <style>
    body {
      margin: 0;
      background: rgba(0, 0, 0, 0.7); /* Translucent black */
      color: #fff;
      font-family: sans-serif;
      overflow: hidden;
    }

    #ticker-container {
      padding: 8px;
      height: 100vh;
      overflow: hidden;
      box-sizing: border-box;
    }

    .league-title {
      color: #ffd700;
      font-weight: bold;
      margin-top: 20px;
      margin-bottom: 10px;
      font-size: 1.2em;
    }

    .match {
      margin-bottom: 8px;
    }

    .no-scores {
      color: #ccc;
      font-style: italic;
    }
  </style>
</head>
<body>
  <div id="ticker-container">
    <div id="ticker">‚è≥ Loading scores...</div>
  </div>

  <script>
    const ticker = document.getElementById('ticker');

    const targetLeagues = [
      "English Premier League",
      "Scottish Premier League",
      "German Bundesliga",
      "Italian Serie A",
      "French Ligue 1",
      "Spanish La Liga",
      "Brazilian Serie A",
      "FIFA World Cup",
      "UEFA Champions League",
      "UEFA Europa League",
      "FA Cup",
      "Copa del Rey",
      "UEFA Nations League",
      "Copa Libertadores",
      "UEFA European Championships",
      "Scottish FA Cup",
      "Copa do Brasil",
      "UEFA Conference League",
    ];

    function loadScores() {
      ticker.innerHTML = '<div class="no-scores">‚è≥ Loading scores...</div>';

      fetch('https://sportsscore.afc270313.workers.dev/')
        .then(response => response.json())
        .then(data => {
          const matches = data.livescore || [];
          const leagues = {};

          matches.forEach(match => {
            const league = match.strLeague || 'Other';
            if (targetLeagues.includes(league)) {
              if (!leagues[league]) leagues[league] = [];
              leagues[league].push(match);
            }
          });

          const sortedLeagues = targetLeagues.filter(league => leagues[league]);
          let html = '';

          sortedLeagues.forEach(league => {
            html += `<div class="league-title">üèÜ ${league}</div>`;
            leagues[league].forEach(match => {
              html += `<div class="match">${match.strHomeTeam} ${match.intHomeScore} - ${match.intAwayScore} ${match.strAwayTeam} (${match.strStatus} ‚Äî ${match.strProgress})</div>`;
            });
          });

          if (html === '') {
            html = '<div class="no-scores">‚öΩ No live scores for selected leagues.</div>';
          }

          ticker.innerHTML = html;
        })
        .catch(error => {
          ticker.innerHTML = '<div class="no-scores">‚ö†Ô∏è Failed to load scores.</div>';
          console.error('Error fetching scores:', error);
        });
    }

    loadScores();
    setInterval(loadScores, 120000); // Refresh every 2 minutes
  </script>
</body>
</html>
